import{a as k,b as x,c as N,d as P,e as E,f as T,g as W,h as D}from"./chunk-OAWNDA6B.js";import{b as S,d as b,g as C,k as v}from"./chunk-KYKMVFTT.js";import"./chunk-EA6DTDFA.js";import{La as _,Pa as y,U as f,Ya as M,Za as t,_a as r,eb as c,fb as h,ha as m,ib as l,jb as w,kb as d,lb as p,mb as u,va as o}from"./chunk-4JMR74BS.js";import"./chunk-WMVSLYLA.js";function L(s,a){if(s&1&&(t(0,"div",14),l(1),r()),s&2){let i=h();o(),w(i.errorMessage())}}function q(s,a){if(s&1&&(t(0,"div",15),l(1),r()),s&2){let i=h();o(),w(i.successMessage())}}var I=class s{async sendMagicLink(){this.errorMessage.set(null),this.successMessage.set(null);let a=this.email();if(!a){this.errorMessage.set("Please enter your email to receive a magic link.");return}let{error:i}=await this.supabaseService.signIn(a);i?this.errorMessage.set("Error sending magic link: "+i.message):this.successMessage.set("Magic link sent! Check your email.")}name=m("");email=m("");password=m("");confirmPassword=m("");errorMessage=m(null);successMessage=m(null);supabaseService=f(v);router=f(C);async signUp(){if(this.errorMessage.set(null),this.successMessage.set(null),this.password()!==this.confirmPassword()){this.errorMessage.set("Passwords do not match.");return}let{error:a}=await this.supabaseService.signUpWithEmail({name:this.name(),email:this.email(),password:this.password()});a?this.errorMessage.set("Error signing up: "+a.message):(this.successMessage.set("Check your email to confirm your account!"),setTimeout(()=>{this.router.navigate(["/login"])},2e3))}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=_({type:s,selectors:[["app-signup"]],decls:19,vars:6,consts:[[1,"flex","justify-center","items-center","min-h-screen","bg-base-200"],[1,"w-full","max-w-md","p-8","shadow-lg","rounded-lg","bg-base-100"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"form-widget","flex","flex-col","gap-4"],["class","text-red-600 text-center mb-2",4,"ngIf"],["class","text-green-600 text-center mb-2",4,"ngIf"],["type","text","name","name","placeholder","Full Name","required","",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","placeholder","Confirm Password","required","",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary","w-full",3,"click"],["type","button",1,"btn","btn-outline","w-full",3,"click"],[1,"mt-4","text-center"],[1,"link","link-primary","cursor-pointer",3,"click"],[1,"text-red-600","text-center","mb-2"],[1,"text-green-600","text-center","mb-2"]],template:function(i,e){i&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Sign Up"),r(),t(4,"form",3),y(5,L,2,1,"div",4)(6,q,2,1,"div",5),t(7,"input",6),u("ngModelChange",function(n){return p(e.name,n)||(e.name=n),n}),r(),t(8,"input",7),u("ngModelChange",function(n){return p(e.email,n)||(e.email=n),n}),r(),t(9,"input",8),u("ngModelChange",function(n){return p(e.password,n)||(e.password=n),n}),r(),t(10,"input",9),u("ngModelChange",function(n){return p(e.confirmPassword,n)||(e.confirmPassword=n),n}),r(),t(11,"button",10),c("click",function(){return e.signUp()}),l(12,"Sign Up"),r(),t(13,"button",11),c("click",function(){return e.sendMagicLink()}),l(14,"Send Magic Link"),r()(),t(15,"p",12),l(16,"Already have an account? "),t(17,"a",13),c("click",function(){return e.navigateToLogin()}),l(18,"Log In"),r()()()()),i&2&&(o(5),M("ngIf",e.errorMessage()),o(),M("ngIf",e.successMessage()),o(),d("ngModel",e.name),o(),d("ngModel",e.email),o(),d("ngModel",e.password),o(),d("ngModel",e.confirmPassword))},dependencies:[D,T,k,x,N,W,E,P,b,S],encapsulation:2})};export{I as SignupComponent};
